!function(T){function e(e){for(var t,n,r=e[0],o=e[1],i=e[2],a=0,c=[];a<r.length;a++)n=r[a],N[n]&&c.push(N[n][0]),N[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(T[t]=o[t]);for(w&&w(e);c.length;)c.shift()();return b.push.apply(b,i||[]),u()}function u(){for(var e,t=0;t<b.length;t++){for(var n=b[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==N[i]&&(r=!1)}r&&(b.splice(t--,1),e=J(J.s=n[0]))}return e}var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!B[e]||!d[e])return;for(var n in d[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(R[n]=t[n]);0==--l&&0===s&&h()}(e,t),n&&n(e,t)};var i,r=!0,L="3b419978572e49f49f40",t=1e4,I={},x=[],o=[];var a=[],C="idle";function A(e){C=e;for(var t=0;t<a.length;t++)a[t].call(null,e)}var c,R,H,l=0,s=0,f={},d={},B={};function q(e){return+e+""===e?+e:e}function p(e){if("idle"!==C)throw new Error("check() is only allowed in idle status");return r=e,A("check"),(i=t,i=i||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=J.p+""+L+".hot-update.json";r.open("GET",o,!0),r.timeout=i,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(e){return void n(e)}t(e)}}})).then(function(e){if(!e)return A("idle"),null;d={},f={},B=e.c,H=e.h,A("prepare");var t=new Promise(function(e,t){c={resolve:e,reject:t}});for(var n in R={},N)y(n);return"prepare"===C&&0===s&&0===l&&h(),t});var i}function y(e){var t,n;B[e]?(d[e]=!0,l++,t=e,(n=document.createElement("script")).charset="utf-8",n.src=J.p+""+t+"."+L+".hot-update.js",document.head.appendChild(n)):f[e]=!0}function h(){A("ready");var t=c;if(c=null,t)if(r)Promise.resolve().then(function(){return m(r)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var n in R)Object.prototype.hasOwnProperty.call(R,n)&&e.push(q(n));t.resolve(e)}}function m(n){if("ready"!==C)throw new Error("apply() is only allowed in ready status");var e,t,r,s,o;function i(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});0<r.length;){var o=r.pop(),i=o.id,a=o.chain;if((s=M[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<s.parents.length;c++){var u=s.parents[c],l=M[u];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(l.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),f(n[u],[i])):(delete n[u],t.push(u),r.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}n=n||{};var a={},c=[],u={},l=function(){console.warn("[HMR] unexpected require("+p.moduleId+") to disposed module")};for(var d in R)if(Object.prototype.hasOwnProperty.call(R,d)){var p;o=q(d);var y=!1,h=!1,m=!1,b="";switch((p=R[d]?i(o):{type:"disposed",moduleId:d}).chain&&(b="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":n.onDeclined&&n.onDeclined(p),n.ignoreDeclined||(y=new Error("Aborted because of self decline: "+p.moduleId+b));break;case"declined":n.onDeclined&&n.onDeclined(p),n.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+b));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(p),n.ignoreUnaccepted||(y=new Error("Aborted because "+o+" is not accepted"+b));break;case"accepted":n.onAccepted&&n.onAccepted(p),h=!0;break;case"disposed":n.onDisposed&&n.onDisposed(p),m=!0;break;default:throw new Error("Unexception type "+p.type)}if(y)return A("abort"),Promise.reject(y);if(h)for(o in u[o]=R[o],f(c,p.outdatedModules),p.outdatedDependencies)Object.prototype.hasOwnProperty.call(p.outdatedDependencies,o)&&(a[o]||(a[o]=[]),f(a[o],p.outdatedDependencies[o]));m&&(f(c,[p.moduleId]),u[o]=l)}var v,_=[];for(t=0;t<c.length;t++)o=c[t],M[o]&&M[o].hot._selfAccepted&&_.push({module:o,errorHandler:M[o].hot._selfAccepted});A("dispose"),Object.keys(B).forEach(function(e){!1===B[e]&&delete N[e]});for(var g,w,O=c.slice();0<O.length;)if(o=O.pop(),s=M[o]){var E={},j=s.hot._disposeHandlers;for(r=0;r<j.length;r++)(e=j[r])(E);for(I[o]=E,s.hot.active=!1,delete M[o],delete a[o],r=0;r<s.children.length;r++){var k=M[s.children[r]];k&&(0<=(v=k.parents.indexOf(o))&&k.parents.splice(v,1))}}for(o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&(s=M[o]))for(w=a[o],r=0;r<w.length;r++)g=w[r],0<=(v=s.children.indexOf(g))&&s.children.splice(v,1);for(o in A("apply"),L=H,u)Object.prototype.hasOwnProperty.call(u,o)&&(T[o]=u[o]);var S=null;for(o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&(s=M[o])){w=a[o];var D=[];for(t=0;t<w.length;t++)if(g=w[t],e=s.hot._acceptedDependencies[g]){if(-1!==D.indexOf(e))continue;D.push(e)}for(t=0;t<D.length;t++){e=D[t];try{e(w)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:o,dependencyId:w[t],error:e}),n.ignoreErrored||S||(S=e)}}}for(t=0;t<_.length;t++){var P=_[t];o=P.module,x=[o];try{J(o)}catch(t){if("function"==typeof P.errorHandler)try{P.errorHandler(t)}catch(e){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:o,error:e,originalError:t}),n.ignoreErrored||S||(S=e),S||(S=t)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:o,error:t}),n.ignoreErrored||S||(S=t)}}return S?(A("fail"),Promise.reject(S)):(A("idle"),new Promise(function(e){e(c)}))}var M={},N={0:0},b=[];function J(e){if(M[e])return M[e].exports;var t,r,n=M[e]={i:e,l:!1,exports:{},hot:(t=e,r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);0<=t&&r._disposeHandlers.splice(t,1)},check:p,apply:m,status:function(e){if(!e)return C;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);0<=t&&a.splice(t,1)},data:I[t]},i=void 0,r),parents:(o=x,x=[],o),children:[]};return T[e].call(n.exports,n,n.exports,function(t){var n=M[t];if(!n)return J;var r=function(e){return n.hot.active?(M[e]?-1===M[e].parents.indexOf(t)&&M[e].parents.push(t):(x=[t],i=e),-1===n.children.indexOf(e)&&n.children.push(e)):(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),x=[]),J(e)},e=function(t){return{configurable:!0,enumerable:!0,get:function(){return J[t]},set:function(e){J[t]=e}}};for(var o in J)Object.prototype.hasOwnProperty.call(J,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,e(o));return r.e=function(e){return"ready"===C&&A("prepare"),s++,J.e(e).then(t,function(e){throw t(),e});function t(){s--,"prepare"===C&&(f[e]||y(e),0===s&&0===l&&h())}},r.t=function(e,t){return 1&t&&(e=r(e)),J.t(e,-2&t)},r}(e)),n.l=!0,n.exports}J.m=T,J.c=M,J.d=function(e,t,n){J.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},J.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},J.t=function(t,e){if(1&e&&(t=J(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(J.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)J.d(n,r,function(e){return t[e]}.bind(null,r));return n},J.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return J.d(t,"a",t),t},J.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},J.p="",J.h=function(){return L};var v=window.webpackJsonp=window.webpackJsonp||[],_=v.push.bind(v);v.push=e,v=v.slice();for(var g=0;g<v.length;g++)e(v[g]);var w=_;b.push(["./src/index.js",1]),u()}({"./src/assets/sass/styles.sass":function(e,t,n){},"./src/index.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/@babel/polyfill/lib/index.js");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domElement=null}var t,n,r;return t=e,(n=[{key:"renderTo",value:function(e){e.innerHTML=this.render(),this.domElement=e.children[0],this.onRender()}},{key:"onRender",value:function(){}},{key:"render",value:function(){}},{key:"triggerEvent",value:function(e,t){return this.domElement.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t})),!1}}])&&o(t.prototype,n),r&&o(t,r),e}();function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,i),n=t,(r=[{key:"render",value:function(){return'<header class="header">\n    <div class="header__title">список задач</div>\n    </header>\n    '.trim()}}])&&a(n.prototype,r),o&&a(n,o),t}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=p(this,y(r).call(this))).item=e,n.index=t+1,n}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,i),t=r,(n=[{key:"render",value:function(){return this.item.done?'<li class="list__item list__item--done js-item-task"  data-id='.concat(this.item.id," data-done=").concat(this.item.done,'><span class="list__item-num">').concat(this.index,'.</span><span class="list__item-text">').concat(this.item.text,'</span>\n      <button class="js-delete-task list__item-btn"><i class="fas fa-trash-alt"></i></button></li>').trim():'<li class="list__item js-item-task"  data-id='.concat(this.item.id," data-done=").concat(this.item.done,'><span class="list__item-num">').concat(this.index,'.</span><span class="list__item-text">').concat(this.item.text,'</span>\n      <button class="js-delete-task list__item-btn"><i class="fas fa-trash-alt"></i></button></li>').trim()}}])&&d(t.prototype,n),o&&d(t,o),r}(),b="ADD_NEW_ITEM",v="DELETE_ITEM",_="CLEAR_LIST",g="TOGGLE_DONE_STATE",w="DELETE_DONE_ITEMS",O=n("./node_modules/gsap/index.js");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function u(e,t){var n,r,o,i,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),r=this,n=!(o=k(u).call(this))||"object"!==E(o)&&"function"!=typeof o?S(r):o,i=S(n),c=function(n){return new Promise(function(e,t){(new O.a).staggerFromTo(n,.5,{opacity:0},{opacity:1,onComplete:function(){e()}})})},(a="fadeInElements")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,n.data=e,n.isDisableDelBtn=0<e.length?"":"disabled",n}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(u,i),t=u,(n=[{key:"render",value:function(){return'\n      <ul class="list js-list">\n        '.concat(this.data.map(function(e,t){return new m(e,t).render()}).join("")," \n       </ul>\n      ").trim()}},{key:"onRender",value:function(){var n=this,e=this.domElement,t=e.querySelectorAll(".js-item-task");t&&this.fadeInElements(t),e.addEventListener("click",function(e){var t=e.target;t.classList.contains("js-item-task")?(n.triggerEvent(g,t.dataset.id),e.target.classList.toggle("list__item--done")):t.parentElement.classList.contains("js-item-task")&&(n.triggerEvent(g,t.dataset.id),t.parentElement.classList.toggle("list__item--done")),t.classList.contains("js-delete-task")?(n.triggerEvent(v,t.parentElement.dataset.id),n.fadeOutDeletedEl(t.parentElement)):t.parentElement.classList.contains("js-delete-task")&&n.fadeOutDeletedEl(t.parentElement.parentElement).then(function(){n.triggerEvent(v,t.parentElement.parentElement.dataset.id)})})}},{key:"fadeOutDeletedEl",value:function(n){return new Promise(function(e,t){(new O.a).to(n,.5,{opacity:0,left:30,onComplete:function(){e()}})})}}])&&j(t.prototype,n),r&&j(t,r),u}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function s(){var e,r,t,n,o,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return t=this,n=(e=I(s)).call.apply(e,[this].concat(u)),r=!n||"object"!==T(n)&&"function"!=typeof n?x(t):n,o=x(r),a=function(e){e.preventDefault();var t=document.querySelector("#textInput"),n={};t.value.trim()&&(n.text=t.value,n.id=Date.now().toString(),n.done=!1,t.value="",r.triggerEvent(b,n))},(i="handleSubmit")in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,r}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,i),t=s,(n=[{key:"render",value:function(){return'\n    <form class="form">\n      <div class="form__input-wrap">\n        <input type="text" class="form__input" id="textInput"  placeholder="type your task">\n        <button type="submit" class="form__btn">добавить задачу</button>\n      </div>\n    </form>\n    '.trim()}},{key:"onRender",value:function(){this.domElement.onsubmit=this.handleSubmit}}])&&L(t.prototype,n),r&&L(t,r),s}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,q(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,i),n=t,(r=[{key:"render",value:function(){return'\n      <footer class="footer">\n        <div class="footer__desc">&copy;  Alexei Dyachek 2019</div>\n      </footer>\n    '}}])&&H(n.prototype,r),o&&H(n,o),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=U(this,z(n).call(this))).isDisableDelAllDoneBtn=0<e?"":"disabled",t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(n,i),t=n,(r=[{key:"render",value:function(){return'\n    <button class="list__btn js-delete-all-done-btn" '.concat(this.isDisableDelAllDoneBtn,">удалить выполненные задачи</button>\n    ").trim()}},{key:"onRender",value:function(){var t=this;this.domElement.addEventListener("click",function(e){e.preventDefault(),t.triggerEvent(w)})}}])&&F(t.prototype,r),o&&F(t,o),n}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Q(this,V(n).call(this))).isDisableDelBtn=0<e?"":"disabled",t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(n,i),t=n,(r=[{key:"render",value:function(){return'\n    <button class="list__btn js-delete-all-btn" '.concat(this.isDisableDelBtn,">очистить весь список</button>\n    ")}},{key:"onRender",value:function(){var t=this;this.domElement.addEventListener("click",function(e){e.preventDefault(),t.triggerEvent(_)})}}])&&K(t.prototype,r),o&&K(t,o),n}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=te(this,ne(n).call(this))).count=e,t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(n,i),t=n,(r=[{key:"render",value:function(){return'\n    <div class="counts__item">\n      <span class="counts__item-text">задач выполненно: </span>\n      <span class="counts__item-count"><i class="js-item-count-done">'.concat(this.count,"</i></span>\n    </div>\n    ").trim()}},{key:"onRender",value:function(){var e=this.domElement.querySelector(".js-item-count-done");this.animateCount(e)}},{key:"animateCount",value:function(e){(new TimelineMax).fromTo(e,.4,{opacity:0,zoom:3},{opacity:1,zoom:1})}}])&&ee(t.prototype,r),o&&ee(t,o),n}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=ce(this,ue(n).call(this))).count=e,t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(n,i),t=n,(r=[{key:"render",value:function(){return'\n    <div class="counts__item">\n      <span class="counts__item-text">всего задач: </span>\n      <span class="counts__item-count"><i class="js-item-count-all">'.concat(this.count,"</i></span>\n    </div>\n    ").trim()}},{key:"onRender",value:function(){var e=this.domElement.querySelector(".js-item-count-all");this.animateCount(e)}},{key:"animateCount",value:function(e){(new O.a).fromTo(e,.4,{opacity:0,zoom:3},{opacity:1,zoom:1})}}])&&ae(t.prototype,r),o&&ae(t,o),n}();function fe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function de(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function pe(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function o(e){de(r,t,n,o,i,"next",e)}function i(e){de(r,t,n,o,i,"throw",e)}o(void 0)})}}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var he=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,a,c;return t=e,(n=[{key:"init",value:function(){if(localStorage.getItem("list"))return!1;localStorage.setItem("list",JSON.stringify([]))}},{key:"load",value:(c=pe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTasks();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"add",value:(a=pe(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.addNewItem(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"deleteAllTasks",value:(i=pe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeList();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"changeListOfTasks",value:(o=pe(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.changingList(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"getTasks",value:function(){return new Promise(function(e,t){var n=localStorage.getItem("list");Array.isArray(JSON.parse(n))?e(JSON.parse(n)):(localStorage.setItem("list",JSON.stringify([])),e(JSON.parse(localStorage.getItem("list"))))})}},{key:"addNewItem",value:function(r){this.getTasks().then(function(n){return new Promise(function(e){var t=[r].concat(fe(n));localStorage.setItem("list",JSON.stringify(t)),e()})})}},{key:"changingList",value:function(t){return new Promise(function(e){localStorage.setItem("list",JSON.stringify(t)),e(JSON.parse(localStorage.getItem("list")))})}},{key:"removeList",value:function(){return new Promise(function(e){localStorage.removeItem("list"),e()})}}])&&ye(t.prototype,n),r&&ye(t,r),e}();function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=new(function(e){function n(){var o,e,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=this,t=ve(n).call(this),we(_e(o=!t||"object"!==me(t)&&"function"!=typeof t?_e(e):t),"handleAddNewItem",function(e){o.model.add(e.detail).then(function(){o.initData().then(function(){o.renderList(),o.renderClearListBtn(),o.renderCountAllItems()})})}),we(_e(o),"handleToggleDoneState",function(e){var t=parseInt(e.detail),n=o.data.filter(function(e){return parseInt(e.id)===t&&(e.done=!e.done),e});o.model.changeListOfTasks(n).then(function(){o.initData().then(function(){o.renderCountDoneItems(),o.renderClearDoneListBtn()})})}),we(_e(o),"handleDeletItem",function(e){var t=o.doneTasks.length,n=parseInt(e.detail),r=o.data.filter(function(e){if(parseInt(e.id)!==n)return e});o.model.changeListOfTasks(r).then(function(){o.initData().then(function(){t!==o.doneTasks.length&&o.renderCountDoneItems(),o.renderCountAllItems(),o.renderClearListBtn(),o.renderClearDoneListBtn(),o.renderList()})})}),we(_e(o),"handleClearList",function(){o.model.changeListOfTasks([]).then(function(){o.initData().then(function(){o.renderCountAllItems(),o.renderCountDoneItems(),o.renderClearListBtn(),o.renderClearDoneListBtn(),o.renderList()})})}),we(_e(o),"handleDeleteDoneItems",function(e){var t=o.data.filter(function(e){if(!0!==e.done)return e});o.model.changeListOfTasks(t).then(function(){o.initData().then(function(){o.renderCountDoneItems(),o.renderCountAllItems(),o.renderClearListBtn(),o.renderClearDoneListBtn(),o.renderList()})})}),o.model=new he,o.data=null,o.doneTasks=null,o}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(n,i),t=n,(r=[{key:"render",value:function(){return'\n    <div id="app" class="app">\n      <div class="app__top">\n        <div data-child="header">\n        </div>\n        <section class="main">\n          <div class="main__form" data-child="input-form"></div>\n          <div class="counts"">\n            <div data-child="count-all" class="counts__count"></div>\n            <div data-child="count-done" class="counts__count"></div>\n          </div>\n          <div class="list__buttons">\n            <div data-child="clear-list-btn"></div>\n            <div data-child="clear-done-list-btn"></div>\n          </div>\n          <div data-child="list">\n          </div>\n        </section>\n      </div>\n      <div data-child="footer" class="app__footer"></div>\n    </div>\n   '.trim()}},{key:"renderHeader",value:function(){(new s).renderTo(this.headerElement)}},{key:"renderForm",value:function(){(new A).renderTo(this.inputFormElement)}},{key:"renderCountAllItems",value:function(){new se(this.data.length).renderTo(this.countAllElement)}},{key:"renderCountDoneItems",value:function(){new oe(this.doneTasks.length).renderTo(this.countDoneElement)}},{key:"renderClearDoneListBtn",value:function(){new X(this.doneTasks.length).renderTo(this.clearDoneListBtnElement)}},{key:"renderClearListBtn",value:function(){new Z(this.data.length).renderTo(this.clearListBtnElement)}},{key:"renderList",value:function(){var e=this;this.listElement.innerHTML="",this.initData().then(function(){new P(e.data,e.doneTasks).renderTo(e.listElement)})}},{key:"renderFooter",value:function(){(new N).renderTo(this.footerElement)}},{key:"initDoneTasksArray",value:function(e){if(Array.isArray(e))return e.filter(function(e){if(e.done)return e})}},{key:"initData",value:function(){var n=this;return new Promise(function(t){n.model.load().then(function(e){n.data=e,n.doneTasks=n.initDoneTasksArray(n.data),t(e)})})}},{key:"onRender",value:function(){var e=this;this.model.init();var t=this.domElement;this.initData().then(function(){e.renderHeader(),e.renderForm(),e.renderCountDoneItems(),e.renderCountAllItems(),e.renderClearDoneListBtn(),e.renderClearListBtn(),e.renderList(),e.renderFooter(),t.addEventListener(b,e.handleAddNewItem),t.addEventListener(g,e.handleToggleDoneState),t.addEventListener(v,e.handleDeletItem),t.addEventListener(_,e.handleClearList),t.addEventListener(w,e.handleDeleteDoneItems)}).catch(function(e){console.log(e);var t=document.createElement("div"),n=document.createElement("a"),r=document.querySelector("#root");r.innerHTML="",n.innerHTML="Произошла ошибка, перезагрузите страничку",n.addEventListener("click",function(e){e.preventDefault(),location.reload()}),t.classList.add("error"),t.appendChild(n),r.appendChild(t)})}},{key:"headerElement",get:function(){return this.domElement=document.querySelector('[data-child="header"]')}},{key:"inputFormElement",get:function(){return this.domElement=document.querySelector('[data-child="input-form"]')}},{key:"countAllElement",get:function(){return this.domElement=document.querySelector('[data-child="count-all"]')}},{key:"countDoneElement",get:function(){return this.domElement=document.querySelector('[data-child="count-done"]')}},{key:"clearListBtnElement",get:function(){return this.domElement=document.querySelector('[data-child="clear-list-btn"]')}},{key:"clearDoneListBtnElement",get:function(){return this.domElement=document.querySelector('[data-child="clear-done-list-btn"]')}},{key:"listElement",get:function(){return this.domElement=document.querySelector('[data-child="list"]')}},{key:"footerElement",get:function(){return this.domElement=document.querySelector('[data-child="footer"]')}}])&&be(t.prototype,r),o&&be(t,o),n}());n("./src/assets/sass/styles.sass");Oe.renderTo(document.querySelector("#root"))}});
//# sourceMappingURL=app.js.map